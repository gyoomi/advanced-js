<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    // 1.打印四句歌词的函数
    var f = new Function("console.log('司机1');console.log('司机2');console.log('司机3');console.log('司机4');");
    // f();
    // 2.求两数和的函数
    var s = new Function("a", "b", "return a+b;");
    // console.log(s(22, 33));
    // 3.求三个数的最大值
    var max = new Function("a", "b", "c", "return (a > b ? a : b ) > c ? (a > b ? a : b ) : c;");
    // console.log(max(-11, 13, 4));
    // 4.求一个数组中的最大值
    var maxValue = new Function("arr",
        "var maxNum = arr[0];" +
        "for (var i = 1; i < arr.length; i++){" +
        "if (maxNum < arr[i]){" +
        "maxNum = arr[i];" +
        "}" +
        "}" +
        "return maxNum;");
    var arr1 = [1,3,45,7,34,6,664,42,-9];
    // console.log(maxValue(arr1));
    // 如何解决使用Function创建函数时，代码过长的问题
    // 1.可以使用字符串拼接 让代码换行
    // 2.使用模板的方式，将代码写在模板标签内，获取该标签的内容
    // 3.使用反引号（`） 引住字符串，那么就可以 换行了

    window.onload = function(){
        var script = document.getElementById("functionContent");
        var str = script.innerHTML;
        var max2 = new Function("arr", str);
        var arrrr = [1,3,45,7,34,611111,664,42,-9];
        console.log(max2(arrrr));
    }
</script>

<script type="text/template" id="functionContent">
    var maxNum = arr[0];
    for(var i = 1; i < arr.length; i++){
        if(maxNum < arr[i]){
            maxNum = arr[i];
        }
    }
    return maxNum;
</script>
</html>